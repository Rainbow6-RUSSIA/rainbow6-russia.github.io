{"version":3,"sources":["webpack:///./app/components/Mapvote/style.css?8618","webpack:///./app/index.tsx","webpack:///./app/components/Mapvote/decider.tsx","webpack:///./app/components/Mapvote/footerItem.tsx","webpack:///./app/components/Mapvote/footer.tsx","webpack:///./app/components/Mapvote/vote.tsx","webpack:///./app/components/Mapvote/log.tsx","webpack:///./app/components/Mapvote/index.tsx","webpack:///./main.tsx"],"names":["module","exports","container","logs","log","logDecider","logTeam","logAction","teamLogo","logActionRed","logActionGreen","teamTitleText","decider","glyphPlaceholder","teamActionText","footer","footerItem","footerMap","footerImage","footerOverlay","footerText","__webpack_require__","d","__webpack_exports__","App","react__WEBPACK_IMPORTED_MODULE_0__","react_hot_loader__WEBPACK_IMPORTED_MODULE_1__","react_router__WEBPACK_IMPORTED_MODULE_2__","_components_Mapvote__WEBPACK_IMPORTED_MODULE_3__","Object","path","component","FadeInUp","react_pose_es","div","in2","opacity","y","transition","ease","out2","decider_Decider","_super","Decider","_this","apply","this","arguments","state","isVisible","__extends","prototype","componentDidMount","setTimeout","console","setState","render","props","vote","react","className","style","join","pose","src","teams","logo","backgroundImage","map","splash","backgroundPosition","titleRu","footerItem_FooterItem","FooterItem","isOverlayed","footerItem_extends","componentWillReceiveProps","nextProps","undefined","team","FadeIn","footer_Footer","Footer","footer_extends","FadeInDown","poolCache","m","votes","find","v","mapId","id","key","type","vote_Vote","Vote","vote_extends","fontSize","PoseWrapper","enter","popmotion_es","easeIn","exit","log_Log","Log","call","log_extends","length","react_textfit_lib","throttle","max","min","mode","forceSingleModeWidth","name","in","out","in1","out1","Mapvote_Mapvote","Mapvote","match","handleEvent","data","sort","a","b","socket","lib","Mapvote_extends","on","emit","params","room","componentDidUpdate","window","dispatchEvent","Event","_a","keys","filter","i","Boolean","swapped","r","history__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_2__","react_router__WEBPACK_IMPORTED_MODULE_3__","_app__WEBPACK_IMPORTED_MODULE_4__","history","document","getElementById"],"mappings":"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","file":"app.e906b68fec9a689020ce.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_1H4lF\",\"logs\":\"_3qzZu\",\"log\":\"_2RN7z\",\"logDecider\":\"_19hEr\",\"logTeam\":\"_1hRNk\",\"logAction\":\"_3opgW\",\"teamLogo\":\"_1esJ8\",\"logActionRed\":\"_39tij\",\"logActionGreen\":\"_2PN3F\",\"teamTitleText\":\"_17yUB\",\"decider\":\"_305y_\",\"glyphPlaceholder\":\"_1q5O4\",\"teamActionText\":\"eFEt_\",\"footer\":\"_2oXPH\",\"footerItem\":\"_1NKRS\",\"footerMap\":\"_2Jck3\",\"footerImage\":\"_2D5Wp\",\"footerOverlay\":\"_2mIZ7\",\"footerText\":\"_2BIqJ\"};","import * as React from 'react';\nimport { hot } from 'react-hot-loader';\nimport { Route, Switch } from 'react-router';\n// import { App as TodoApp } from './components/App';\nimport { Mapvote } from './components/Mapvote';\n\nexport const App = hot(module)(() => (\n  <Switch>\n    {/* <Route path=\"/\" component={Mapvote} /> */}\n    <Route path=\"/map_vote/:id\" component={Mapvote} />\n    {/* <Route path=\"/user_vote\" component={Mapvote} />\n    <Route path=\"/header\" component={Mapvote} /> */}\n  </Switch>\n));\n","import { Team, Vote } from '@r6ru/db';\r\nimport * as React from 'react';\r\nimport posed from 'react-pose';\r\nimport * as style from './style.css';\r\n\r\nexport interface IDeciderProps {\r\n    teams: Team[];\r\n    vote: Vote;\r\n}\r\n\r\nexport interface IDeciderState {\r\n  isVisible: boolean;\r\n}\r\n\r\nconst FadeInUp = posed.div({\r\n  in2: { opacity: 0, y: '-100%', transition: { y: {ease: 'easeIn'} } },\r\n  out2: { opacity: 1, y: '0%', transition: { y: {ease: 'easeIn'} } },\r\n});\r\n\r\nexport class Decider extends React.Component<IDeciderProps, IDeciderState> {\r\n\r\n  public readonly state: IDeciderState = {\r\n    isVisible: false,\r\n  };\r\n\r\n  public async componentDidMount() {\r\n        setTimeout(() => {\r\n          console.log('decider');\r\n          this.setState({ isVisible: true });\r\n        }, 2000);\r\n    }\r\n\r\n  public render() {\r\n\r\n    if (!this.props.vote) { return null; }\r\n\r\n    return (\r\n      <FadeInUp className={[style.log, style.logDecider].join(' ')} pose={this.state.isVisible ? 'out2' : 'in2'}>\r\n        <div className={style.logTeam}>\r\n            <img className={style.teamLogo} src={this.props.teams[0].logo}/>\r\n            <p className={style.teamTitleText}>\r\n              решающая карта\r\n            </p>\r\n            <img className={style.teamLogo} src={this.props.teams[1].logo}/>\r\n        </div>\r\n        <div className={style.decider} style={{backgroundImage: `url(${this.props.vote.map.splash})`}}>\r\n            <div className={style.glyphPlaceholder} style={{backgroundPosition: 'center center'}}>\r\n                <img src=\"./assets/icons/handshake.svg\"/>\r\n            </div>\r\n            <p className={style.teamActionText}>{this.props.vote.map.titleRu}</p>\r\n        </div>\r\n      </FadeInUp>\r\n    );\r\n  }\r\n}\r\n","import { MapR6, Team } from '@r6ru/db';\r\nimport * as React from 'react';\r\nimport { FadeIn, FadeInDown } from '.';\r\nimport * as style from './style.css';\r\n\r\nexport interface IFooterItemProps {\r\n    map: MapR6;\r\n    team?: Team | null;\r\n}\r\n\r\nexport interface IFooterItemState {\r\n  isVisible: boolean;\r\n  isOverlayed: boolean;\r\n}\r\n\r\nexport class FooterItem extends React.Component<IFooterItemProps, IFooterItemState> {\r\n\r\n  public readonly state: IFooterItemState = {\r\n    isOverlayed: false,\r\n    isVisible: false,\r\n  };\r\n\r\n  public async componentWillReceiveProps(nextProps: IFooterItemProps) {\r\n      if (nextProps.team !== undefined) {\r\n        setTimeout(() => this.setState({ isOverlayed: true }), 1000);\r\n      }\r\n    }\r\n\r\n  public render() {\r\n    return (\r\n      <div className={style.footerItem}>\r\n        <div className={style.footerMap}>\r\n          <img className={style.footerImage} src={this.props.map.splash}/>\r\n          <FadeIn style={{backgroundImage: `url(${this.props.team && this.props.team.logo})`}} className={style.footerOverlay} pose={this.state.isOverlayed ? 'out1' : 'in1'} />\r\n        </div>\r\n        <div className={style.footerText}>{this.props.map.titleRu}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { MapR6, Vote } from '@r6ru/db';\r\nimport * as React from 'react';\r\nimport { FadeInDown } from '.';\r\nimport { FooterItem } from './footerItem';\r\nimport * as style from './style.css';\r\n\r\nexport interface IFooterProps {\r\n    votes: Vote[];\r\n    poolCache: MapR6[];\r\n}\r\n\r\nexport interface IFooterState {\r\n  isVisible: boolean;\r\n}\r\n\r\nexport class Footer extends React.Component<IFooterProps, IFooterState> {\r\n\r\n  public readonly state: IFooterState = {\r\n    isVisible: false,\r\n  };\r\n\r\n  public async componentDidMount() {\r\n        setTimeout(() => {\r\n          this.setState({ isVisible: true });\r\n        }, 1000);\r\n    }\r\n\r\n  public render() {\r\n\r\n    return (\r\n      <FadeInDown className={style.footer} pose={this.state.isVisible ? 'out' : 'in'}>\r\n        {this.props.poolCache.map((m) => {\r\n          const vote = this.props.votes.find((v) => v.mapId === m.id);\r\n          return (<FooterItem key={m.id} map={m} team={vote && (vote.type === 'decider' ? null : vote.team)} />);\r\n        })}\r\n      </FadeInDown>\r\n    );\r\n  }\r\n}\r\n","import { Vote as V } from '@r6ru/db';\r\nimport * as React from 'react';\r\nimport { FadeInDown } from '.';\r\nimport * as style from './style.css';\r\n\r\nexport interface IVoteProps {\r\n    vote: V;\r\n}\r\n\r\nexport interface IVoteState {\r\n  isVisible: boolean;\r\n}\r\n\r\nexport class Vote extends React.Component<IVoteProps, IVoteState> {\r\n\r\n  public readonly state: IVoteState = {\r\n    isVisible: false,\r\n  };\r\n\r\n  public async componentDidMount() {\r\n        setTimeout(() => {\r\n          this.setState({ isVisible: true });\r\n        }, 1000);\r\n    }\r\n\r\n  public render() {\r\n\r\n    if (!this.props.vote) { return null; }\r\n\r\n    return (\r\n      <FadeInDown className={[style.logAction, this.props.vote.type === 'ban' ? style.logActionRed : style.logActionGreen].join(' ')} pose={this.state.isVisible ? 'out' : 'in'} style={{backgroundImage: `url(${this.props.vote.map.splash})`}}>\r\n        <div className={style.glyphPlaceholder}>\r\n            <i className=\"material-icons\" style={{fontSize: '100px'}}>{this.props.vote.type === 'ban' ? 'clear' : 'check'}</i>\r\n        </div>\r\n        <p className={style.teamActionText}>{this.props.vote.map.titleRu}</p>\r\n      </FadeInDown>\r\n    );\r\n  }\r\n}\r\n","import { Team, Vote as V } from '@r6ru/db';\r\nimport { Textfit } from '@wootencl/react-textfit';\r\nimport { easing } from 'popmotion';\r\nimport * as React from 'react';\r\nimport posed, { PoseGroup } from 'react-pose';\r\nimport { FadeInDown } from '.';\r\nimport * as style from './style.css';\r\nimport { Vote } from './vote';\r\n\r\nexport interface ILogProps {\r\n    team: Team;\r\n    votes: V[];\r\n}\r\n\r\nexport interface ILogState {\r\n  isVisible: boolean;\r\n  votes: V[];\r\n}\r\n\r\nconst PoseWrapper = posed.div({\r\n  enter: { opacity: 1, ease: easing.easeIn },\r\n  exit: { opacity: 0, ease: easing.easeIn },\r\n});\r\n\r\nexport class Log extends React.Component<ILogProps, ILogState> {\r\n\r\n  public readonly state: ILogState = {\r\n    isVisible: false,\r\n    votes: [],\r\n  };\r\n\r\n  public async componentDidMount() {\r\n        setTimeout(() => {\r\n          this.setState({ isVisible: true });\r\n        }, 1000);\r\n    }\r\n\r\n  public async componentWillReceiveProps(nextProps: ILogProps) {\r\n      if (nextProps.votes.length !== this.props.votes.length) {\r\n          this.setState({ votes: nextProps.votes });\r\n      }\r\n    }\r\n\r\n  constructor(props: ILogProps) {\r\n        super(props);\r\n        this.state.votes = props.votes;\r\n    }\r\n\r\n  public render() {\r\n\r\n    return (\r\n      <FadeInDown className={style.log} pose={this.state.isVisible ? 'out' : 'in'}>\r\n        <div className={style.logTeam}>\r\n            <img className={style.teamLogo} src={this.props.team.logo}/>\r\n            <div className={style.teamTitleText}>\r\n              <Textfit throttle={5} max={100} min={36} mode=\"single\" forceSingleModeWidth={false}>{this.props.team.name}</Textfit>\r\n            </div>\r\n        </div>\r\n        <PoseGroup>\r\n          {this.state.votes.map((v) => <PoseWrapper key={v.mapId}><Vote vote={v} /></PoseWrapper>)}\r\n        </PoseGroup>\r\n      </FadeInDown>\r\n    );\r\n  }\r\n}\r\n","import { Match } from '@r6ru/db';\nimport * as React from 'react';\nimport posed from 'react-pose';\nimport { RouteComponentProps } from 'react-router';\nimport { connect } from 'socket.io-client';\nimport { Decider } from './decider';\nimport { Footer } from './footer';\nimport { Log } from './log';\n\nimport * as style from './style.css';\n\nexport interface IMapvoteProps extends RouteComponentProps<{ id: string }> {}\n\nexport interface IMapvoteState {\n  isVisible: boolean;\n  match: Match;\n}\n\nexport const FadeInDown = posed.div({\n  in: { opacity: 0, y: '100%', transition: { y: {ease: 'easeIn'} } },\n  out: { opacity: 1, y: '0%', transition: { y: {ease: 'easeIn'} } },\n});\n\nexport const FadeIn = posed.div({\n  in1: { opacity: 0 },\n  out1: { opacity: 1 },\n});\n\nexport class Mapvote extends React.Component<IMapvoteProps, IMapvoteState> {\n\n  public readonly state: IMapvoteState = {\n    isVisible: false,\n    match: {} as Match,\n  };\n\n  public socket: SocketIOClient.Socket;\n\n  public handleEvent = (data: Match) => {\n    console.log(data);\n    data.votes.sort((a, b) => a.id - b.id);\n    data.teams.sort((a, b) => a.id - b.id);\n    data.poolCache.sort();\n    this.setState({ match: data });\n  }\n\n  public componentDidMount() {\n    this.socket.on('init', this.handleEvent);\n    this.socket.on('swap', this.handleEvent);\n    this.socket.on('map_vote', this.handleEvent);\n    this.socket.emit('subscribe', {\n      id: this.props.match.params.id,\n      room: 'map_vote',\n    });\n    setTimeout(() => {\n      this.setState({ isVisible: true });\n    }, 1000);\n  }\n\n  public componentDidUpdate() {\n    window.dispatchEvent(new Event('resize'));\n  }\n\n  constructor(props: any) {\n    super(props);\n    console.log('Map Vote init');\n    this.socket = connect('https://streams.rainbow6russia.ru');\n  }\n\n  public render() {\n    const { isVisible, match } = this.state;\n\n    if (Object.keys(match) && !(match.votes || match.teams)) { return null; }\n\n    const votes = match.votes; // .slice(0, (match.poolCache.length - 1) / 2);\n\n    return (\n      <FadeInDown className={style.container} pose={isVisible ? 'out' : 'in'}>\n        <div className={style.logs}>\n          <Log votes={votes.filter((v, i) => Boolean(i % 2) === !match.swapped && v.type !== 'decider')} team={match.teams[0]}/>\n          {match.votes[match.poolCache.length - 1] ? <Decider vote={match.votes[match.poolCache.length - 1]} teams={match.teams}/> : null}\n          <Log votes={votes.filter((v, i) => Boolean(i % 2) === match.swapped && v.type !== 'decider')} team={match.teams[1]}/>\n        </div>\n        {match.poolCache.length > 7 ? null : <Footer votes={match.votes} poolCache={match.poolCache} />}\n      </FadeInDown>\n    );\n  }\n}\n","import { createHashHistory } from 'history';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Router } from 'react-router';\nimport { App } from './app';\n\n// const history = createBrowserHistory();\nconst history = createHashHistory();\n\nReactDOM.render(\n    <Router history={history}>\n      <App />\n    </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}